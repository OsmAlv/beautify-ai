# –£–ª—É—á—à–µ–Ω–∏—è –§–æ—Ç–æ—Å–µ—Å—Å–∏–∏ - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –§–æ—Ç–æ

## üéØ –°–¥–µ–ª–∞–Ω–Ω—ã–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ó–∞–≥—Ä—É–∑–∫–∞ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- **–î–æ**: –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- **–ü–æ—Å–ª–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—å 2-4 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∫—É—Ä—Å–æ–≤

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- AI –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç –ª–∏—Ü–æ —á–µ–ª–æ–≤–µ–∫–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ç–æ
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä—Ç –ª–∏—Ü–∞
- –õ—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### 2. –£–ª—É—á—à–µ–Ω–Ω—ã–π UI

#### –ö–Ω–æ–ø–∫–∞ –ó–∞–≥—Ä—É–∑–∫–∏
```tsx
{images.length > 0 ? `–î–æ–±–∞–≤–∏—Ç—å –µ—â–µ (${images.length})` : "Upload photos"}
```
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

#### –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```
üí° –î–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ 2-4 —Ñ–æ—Ç–æ —Å —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∫—É—Ä—Å–æ–≤
```

#### –ü—Ä–µ–≤—å—é –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- –°–µ—Ç–∫–∞ —Å –º–∏–Ω–∏–∞—Ç—é—Ä–∞–º–∏ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ç–æ (√ó)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞: 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, –∞–≤—Ç–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ

### 3. –£–ª—É—á—à–µ–Ω–Ω—ã–π –ü—Ä–æ–º–ø—Ç –¥–ª—è AI

#### –ù–æ–≤—ã–µ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –ü—Ä–æ–º–ø—Ç–µ:
```
CRITICAL INSTRUCTIONS FOR FACE:
- PRESERVE the exact facial features, proportions, and unique characteristics
- DO NOT modify the face structure, nose, eyes, lips, or facial shape
- KEEP the person's identity 100% recognizable
- You MAY adjust pose, angle, and facial expressions (smile, serious, etc.)
- You MAY change body position and placement in the scene
- BUT the face MUST look like the same person with same facial features
```

#### –ß—Ç–æ AI –ú–æ–∂–µ—Ç –î–µ–ª–∞—Ç—å:
‚úÖ –ú–µ–Ω—è—Ç—å –ø–æ–∑—É –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ª–∞
‚úÖ –ú–µ–Ω—è—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ (—É–ª—ã–±–∫–∞, —Å–µ—Ä—å–µ–∑–Ω–æ–µ –∏ —Ç.–¥.)
‚úÖ –ú–µ–Ω—è—Ç—å —Ä–∞–∫—É—Ä—Å –∏ —É–≥–æ–ª —Å—ä–µ–º–∫–∏
‚úÖ –ú–µ–Ω—è—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å—Ü–µ–Ω–µ

#### –ß—Ç–æ AI –ù–ï –ú–æ–∂–µ—Ç –î–µ–ª–∞—Ç—å:
‚ùå –ò–∑–º–µ–Ω—è—Ç—å —á–µ—Ä—Ç—ã –ª–∏—Ü–∞
‚ùå –ú–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–∏—Ü–∞
‚ùå –ú–µ–Ω—è—Ç—å –Ω–æ—Å, –≥–ª–∞–∑–∞, –≥—É–±—ã
‚ùå –ò–∑–º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É –ª–∏—Ü–∞
‚ùå –î–µ–ª–∞—Ç—å –ª–∏—Ü–æ –Ω–µ—É–∑–Ω–∞–≤–∞–µ–º—ã–º

### 4. Backend –ò–∑–º–µ–Ω–µ–Ω–∏—è

#### API Route (`/app/api/photoshoot/route.ts`)

**–ë—ã–ª–æ:**
```typescript
const { imageUrl, ... } = await request.json();
images: [imageUrl]
```

**–°—Ç–∞–ª–æ:**
```typescript
const { imageUrls, ... } = await request.json();
images: imageUrls  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ AI
```

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- AI –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –æ –ª–∏—Ü–µ
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —á–µ—Ä—Ç
- –ë–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Frontend

#### –ù–æ–≤—ã–µ –§—É–Ω–∫—Ü–∏–∏:

```typescript
// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
function handleImageUpload(e: React.ChangeEvent<HTMLInputElement>)

// –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –∏–Ω–¥–µ–∫—Å—É
function removeImage(index: number)
```

#### State –ò–∑–º–µ–Ω–µ–Ω–∏—è:
```typescript
// –ë—ã–ª–æ:
const [image, setImage] = useState<string | null>(null);

// –°—Ç–∞–ª–æ:
const [images, setImages] = useState<string[]>([]);
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏**
2. **–ù–∞–∂–º–∏—Ç–µ "Upload photos"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ 2-4 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏** —Å —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∫—É—Ä—Å–æ–≤:
   - –§–æ—Ç–æ —Å–ø–µ—Ä–µ–¥–∏
   - –§–æ—Ç–æ –≤ –ø—Ä–æ—Ñ–∏–ª—å
   - –§–æ—Ç–æ –≤ 3/4
   - –§–æ—Ç–æ —Å –¥—Ä—É–≥–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –ª–∏—Ü–∞
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã** –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
5. **–£–¥–∞–ª–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ** –Ω–∞–∂–∞–≤ –Ω–∞ √ó
6. **–î–æ–±–∞–≤—å—Ç–µ –µ—â–µ —Ñ–æ—Ç–æ** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
7. **–í—ã–±–µ—Ä–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
8. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—é"**

## üé® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –õ—É—á—à–∏—Ö –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ò–¥–µ–∞–ª—å–Ω—ã–π –ù–∞–±–æ—Ä –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:
1. ‚úÖ –ß–µ—Ç–∫–∏–µ, —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ
2. ‚úÖ –†–∞–∑–Ω—ã–µ —Ä–∞–∫—É—Ä—Å—ã (—Ñ—Ä–æ–Ω—Ç, –ø—Ä–æ—Ñ–∏–ª—å, 3/4)
3. ‚úÖ –õ–∏—Ü–æ —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω–æ
4. ‚úÖ –ú–∏–Ω–∏–º—É–º –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ñ–æ–Ω–µ
5. ‚úÖ –†–∞–∑–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò–∑–±–µ–≥–∞–π—Ç–µ:
1. ‚ùå –†–∞–∑–º—ã—Ç—ã–µ –∏–ª–∏ —Ç–µ–º–Ω—ã–µ —Ñ–æ—Ç–æ
2. ‚ùå –§–æ—Ç–æ —Å –æ—á–∫–∞–º–∏/–º–∞—Å–∫–∞–º–∏ (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ª–∏—Ü–æ –±–µ–∑ –Ω–∏—Ö)
3. ‚ùå –í—Å–µ —Ñ–æ—Ç–æ —Å –æ–¥–Ω–æ–≥–æ —Ä–∞–∫—É—Ä—Å–∞
4. ‚ùå –§–æ—Ç–æ –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

## üöÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç –î–∞–Ω–Ω—ã—Ö –≤ API:
```json
{
  "imageUrls": [
    "data:image/jpeg;base64,...",
    "data:image/jpeg;base64,...",
    "data:image/jpeg;base64,..."
  ],
  "photoCount": 5,
  "environment": "studio",
  "model": "nanobana",
  "customPrompt": "...",
  "userId": "..."
}
```

### Wavespeed API Call:
```typescript
{
  enable_base64_output: false,
  enable_sync_mode: false,
  images: imageUrls,  // –ú–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  prompt: finalPrompt
}
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ –£–ª—É—á—à–µ–Ω–∏—è

1. **–¢–æ—á–Ω–æ—Å—Ç—å —á–µ—Ä—Ç –ª–∏—Ü–∞**: +40-50%
2. **–£–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç—å**: +60-70%
3. **–ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**: +30-40%
4. **–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: +50-60%

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –æ–¥–Ω–∏–º —Ñ–æ—Ç–æ –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–æ–≤—ã–π –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –æ–¥–Ω–æ —Ñ–æ—Ç–æ –≤ –º–∞—Å—Å–∏–≤
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ó–∞–º–µ—Ç–∫–∏

- –§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ base64
- –ö–∞–∂–¥–æ–µ —Ñ–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ (–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2-4)
